{"remainingRequest":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/src/components/PageContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/src/components/PageContent.vue","mtime":1615990614896},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYiBmcm9tICIuLi9maXJlYmFzZS5qcyIKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaXRlbXMgOiBbXSwKICAgICAgICBpdGVtc1NlbGVjdGVkIDogW10KICAgICAgfQogICAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNvdW50ZXI6IGZ1bmN0aW9uIChpdGVtLCBjb3VudCkgewogICAgICAgIGlmICh0aGlzLml0ZW1zU2VsZWN0ZWQubGVuZ3RoID09PSAwICYmIGNvdW50ID4gMCkgewogICAgICAgICAgICB0aGlzLml0ZW1zU2VsZWN0ZWQucHVzaChbaXRlbS5uYW1lLCBjb3VudCwgaXRlbS5wcmljZV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVyeXRoaW5nIHRvIGNoZWNrIHdoYXQgaXMgbm90IGluIHRoZSBiYXNrZXQKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zU2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJfaXRlbSA9IHRoaXMuaXRlbXNTZWxlY3RlZFtpXTsKICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1fbmFtZSA9IGN1cnJfaXRlbVswXTsKICAgICAgICAgICAgICAgIGlmIChpdGVtX25hbWUgPT09IGl0ZW0ubmFtZSAmJiBjb3VudCA+IDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zU2VsZWN0ZWQuc3BsaWNlKGksIDEsIFtpdGVtLm5hbWUsIGNvdW50LCBpdGVtLnByaWNlXSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoaXRlbV9uYW1lID09PSBpdGVtLm5hbWUgJiYgY291bnQgPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNTZWxlY3RlZC5zcGxpY2UoaSwxKQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgIGlmIChpdGVtX25hbWUgIT0gaXRlbS5uYW1lICYmIGkgPT0gKHRoaXMuaXRlbXNTZWxlY3RlZC5sZW5ndGggLSAxKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNTZWxlY3RlZC5wdXNoKFtpdGVtLm5hbWUsIGNvdW50LCBpdGVtLnByaWNlXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgZmV0Y2hJdGVtczogZnVuY3Rpb24gKCkgewogICAgICBkYi5jb2xsZWN0aW9uKCdtZW51JykuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgIHNuYXBzaG90LmRvY3MuZm9yRWFjaChkb2MgPT4gewogICAgICAgIHRoaXMuaXRlbXMucHVzaChkb2MuZGF0YSgpKSAKICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgICB0aGlzLmZldGNoSXRlbXMoKSAgICAKICB9Cn0K"},{"version":3,"sources":["PageContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageContent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <ul id = \"items\">\n        <li v-for=\"i in items\" v-bind:key=\"i\">\n            <h2>{{i.name}}</h2>\n            <img v-bind:src=\"i.imageURL\" alt = \"Food image\">\n            <p>\n              ${{i.price}}\n            </p>\n            <qty v-bind:item = \"i\" v-on:counter = \"onCounter\"></qty>\n        </li>\n    </ul>\n    <basket v-bind:itemsSelected=\"itemsSelected\"></basket>\n  </div>\n</template>\n\n<script>\nimport db from \"../firebase.js\"\nexport default {\n  data() {\n      return {\n        items : [],\n        itemsSelected : []\n      }\n    },\n  methods: {\n    onCounter: function (item, count) {\n        if (this.itemsSelected.length === 0 && count > 0) {\n            this.itemsSelected.push([item.name, count, item.price]);\n        } else {\n            // Loop through everything to check what is not in the basket\n            for (let i = 0; i < this.itemsSelected.length; i++) {\n                const curr_item = this.itemsSelected[i];\n                const item_name = curr_item[0];\n                if (item_name === item.name && count > 0) {\n                    this.itemsSelected.splice(i, 1, [item.name, count, item.price]);\n                    break;\n                }\n                if (item_name === item.name && count == 0) {\n                    this.itemsSelected.splice(i,1)\n                    break;\n                } \n                if (item_name != item.name && i == (this.itemsSelected.length - 1)) {\n                    this.itemsSelected.push([item.name, count, item.price]);\n                }\n            }\n        }\n    },\n    fetchItems: function () {\n      db.collection('menu').get().then(snapshot => {\n      snapshot.docs.forEach(doc => {\n        this.items.push(doc.data()) \n      })\n      })\n    },\n  },\n  created() {\n      this.fetchItems()    \n  }\n}\n</script>\n\n<style scoped>\nh2{\n  text-align: center;\n}\n#items{\n    float: left;\n    width: 71%;\n    padding: 5px;\n    box-sizing: border-box;\n}\nul{\n    display: flex;\n    flex-wrap: wrap;\n    list-style-type: none;\n    line-height: 5px;\n}\nli{\n    flex-grow: 1;\n    flex-basis: 300px;\n    text-align: center;\n    padding: 5px;\n    border: 1px solid #222;\n    margin: 10px;\n}\nimg{\n  width:100px;\n  height: 100px;\n}\np{\n    font-size: 25px;\n}\n</style>"]}]}