{"remainingRequest":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/src/components/PageContent.vue?vue&type=style&index=0&id=0411a05a&scoped=true&lang=css&","dependencies":[{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/src/components/PageContent.vue","mtime":1613911003377},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaDJ7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CiNpdGVtc3sKICAgIGZsb2F0OiBsZWZ0OwogICAgd2lkdGg6IDcxJTsKICAgIHBhZGRpbmc6IDVweDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KdWx7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC13cmFwOiB3cmFwOwogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOwogICAgbGluZS1oZWlnaHQ6IDVweDsKfQpsaXsKICAgIGZsZXgtZ3JvdzogMTsKICAgIGZsZXgtYmFzaXM6IDMwMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogNXB4OwogICAgYm9yZGVyOiAxcHggc29saWQgIzIyMjsKICAgIG1hcmdpbjogMTBweDsKfQppbWd7CiAgd2lkdGg6MTAwcHg7CiAgaGVpZ2h0OiAxMDBweDsKfQpwewogICAgZm9udC1zaXplOiAyNXB4Owp9Cg=="},{"version":3,"sources":["PageContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageContent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <ul id = \"items\">\n        <li v-for=\"i in items\" v-bind:key=\"i\">\n            <h2>{{i.name}}</h2>\n            <img v-bind:src=\"i.imageURL\" alt = \"Food image\">\n            <p>\n              ${{i.price}}\n            </p>\n            <qty v-bind:item = \"i\" v-on:counter = \"onCounter\"></qty>\n        </li>\n    </ul>\n    <basket v-bind:itemsSelected=\"itemsSelected\"></basket>\n  </div>\n</template>\n\n<script>\nimport db from \"../firebase.js\"\nexport default {\n  data() {\n      return {\n        items : [],\n        itemsSelected : []\n      }\n    },\n  methods: {\n    onCounter: function (item, count) {\n        if (this.itemsSelected.length === 0 && count > 0) {\n            this.itemsSelected.push([item.name, count, item.price]);\n        } else {\n            // Loop through everything to check what is not in the basket\n            for (let i = 0; i < this.itemsSelected.length; i++) {\n                const curr_item = this.itemsSelected[i];\n                const item_name = curr_item[0];\n                if (item_name === item.name && count > 0) {\n                    this.itemsSelected.splice(i, 1, [item.name, count, item.price]);\n                    break;\n                }\n                if (item_name === item.name && count == 0) {\n                    this.itemsSelected.splice(i,1)\n                    break;\n                } \n                if (item_name != item.name && i == (this.itemsSelected.length - 1)) {\n                    this.itemsSelected.push([item.name, count, item.price]);\n                }\n            }\n        }\n    },\n    fetchItems: function () {\n      db.collection('menu').get().then(snapshot => {\n      snapshot.docs.forEach(doc => {\n        this.items.push(doc.data()) \n      })\n      })\n    },\n  },\n  created() {\n      this.fetchItems()    \n  }\n}\n</script>\n\n<style scoped>\nh2{\n  text-align: center;\n}\n#items{\n    float: left;\n    width: 71%;\n    padding: 5px;\n    box-sizing: border-box;\n}\nul{\n    display: flex;\n    flex-wrap: wrap;\n    list-style-type: none;\n    line-height: 5px;\n}\nli{\n    flex-grow: 1;\n    flex-basis: 300px;\n    text-align: center;\n    padding: 5px;\n    border: 1px solid #222;\n    margin: 10px;\n}\nimg{\n  width:100px;\n  height: 100px;\n}\np{\n    font-size: 25px;\n}\n</style>"]}]}