{"remainingRequest":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/thread-loader/dist/cjs.js!/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/babel-loader/lib/index.js!/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/src/components/PageContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/src/components/PageContent.vue","mtime":1613911003377},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rachelho/Documents/NUS/BT3103/Week 7/discovery/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBkYiBmcm9tICIuLi9maXJlYmFzZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFtdLAogICAgICBpdGVtc1NlbGVjdGVkOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ291bnRlcjogZnVuY3Rpb24gb25Db3VudGVyKGl0ZW0sIGNvdW50KSB7CiAgICAgIGlmICh0aGlzLml0ZW1zU2VsZWN0ZWQubGVuZ3RoID09PSAwICYmIGNvdW50ID4gMCkgewogICAgICAgIHRoaXMuaXRlbXNTZWxlY3RlZC5wdXNoKFtpdGVtLm5hbWUsIGNvdW50LCBpdGVtLnByaWNlXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZXJ5dGhpbmcgdG8gY2hlY2sgd2hhdCBpcyBub3QgaW4gdGhlIGJhc2tldAogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtc1NlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY3Vycl9pdGVtID0gdGhpcy5pdGVtc1NlbGVjdGVkW2ldOwogICAgICAgICAgdmFyIGl0ZW1fbmFtZSA9IGN1cnJfaXRlbVswXTsKCiAgICAgICAgICBpZiAoaXRlbV9uYW1lID09PSBpdGVtLm5hbWUgJiYgY291bnQgPiAwKSB7CiAgICAgICAgICAgIHRoaXMuaXRlbXNTZWxlY3RlZC5zcGxpY2UoaSwgMSwgW2l0ZW0ubmFtZSwgY291bnQsIGl0ZW0ucHJpY2VdKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGl0ZW1fbmFtZSA9PT0gaXRlbS5uYW1lICYmIGNvdW50ID09IDApIHsKICAgICAgICAgICAgdGhpcy5pdGVtc1NlbGVjdGVkLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGl0ZW1fbmFtZSAhPSBpdGVtLm5hbWUgJiYgaSA9PSB0aGlzLml0ZW1zU2VsZWN0ZWQubGVuZ3RoIC0gMSkgewogICAgICAgICAgICB0aGlzLml0ZW1zU2VsZWN0ZWQucHVzaChbaXRlbS5uYW1lLCBjb3VudCwgaXRlbS5wcmljZV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZldGNoSXRlbXM6IGZ1bmN0aW9uIGZldGNoSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkYi5jb2xsZWN0aW9uKCdtZW51JykuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICBzbmFwc2hvdC5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgX3RoaXMuaXRlbXMucHVzaChkb2MuZGF0YSgpKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEl0ZW1zKCk7CiAgfQp9Ow=="},{"version":3,"sources":["PageContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAiBA,OAAA,EAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,mBAAA,IAAA,EAAA,KAAA,EAAA;AACA,UAAA,KAAA,aAAA,CAAA,MAAA,KAAA,CAAA,IAAA,KAAA,GAAA,CAAA,EAAA;AACA,aAAA,aAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,KAAA,CAAA;AACA,OAFA,MAEA;AACA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,SAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA,cAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA;;AACA,cAAA,SAAA,KAAA,IAAA,CAAA,IAAA,IAAA,KAAA,GAAA,CAAA,EAAA;AACA,iBAAA,aAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,KAAA,CAAA;AACA;AACA;;AACA,cAAA,SAAA,KAAA,IAAA,CAAA,IAAA,IAAA,KAAA,IAAA,CAAA,EAAA;AACA,iBAAA,aAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA;AACA;;AACA,cAAA,SAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,IAAA,KAAA,aAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,iBAAA,aAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,KAAA,CAAA;AACA;AACA;AACA;AACA,KAtBA;AAuBA,IAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,EAAA;AACA,SAFA;AAGA,OAJA;AAKA;AA7BA,GAPA;AAsCA,EAAA,OAtCA,qBAsCA;AACA,SAAA,UAAA;AACA;AAxCA,CAAA","sourcesContent":["<template>\n  <div>\n    <ul id = \"items\">\n        <li v-for=\"i in items\" v-bind:key=\"i\">\n            <h2>{{i.name}}</h2>\n            <img v-bind:src=\"i.imageURL\" alt = \"Food image\">\n            <p>\n              ${{i.price}}\n            </p>\n            <qty v-bind:item = \"i\" v-on:counter = \"onCounter\"></qty>\n        </li>\n    </ul>\n    <basket v-bind:itemsSelected=\"itemsSelected\"></basket>\n  </div>\n</template>\n\n<script>\nimport db from \"../firebase.js\"\nexport default {\n  data() {\n      return {\n        items : [],\n        itemsSelected : []\n      }\n    },\n  methods: {\n    onCounter: function (item, count) {\n        if (this.itemsSelected.length === 0 && count > 0) {\n            this.itemsSelected.push([item.name, count, item.price]);\n        } else {\n            // Loop through everything to check what is not in the basket\n            for (let i = 0; i < this.itemsSelected.length; i++) {\n                const curr_item = this.itemsSelected[i];\n                const item_name = curr_item[0];\n                if (item_name === item.name && count > 0) {\n                    this.itemsSelected.splice(i, 1, [item.name, count, item.price]);\n                    break;\n                }\n                if (item_name === item.name && count == 0) {\n                    this.itemsSelected.splice(i,1)\n                    break;\n                } \n                if (item_name != item.name && i == (this.itemsSelected.length - 1)) {\n                    this.itemsSelected.push([item.name, count, item.price]);\n                }\n            }\n        }\n    },\n    fetchItems: function () {\n      db.collection('menu').get().then(snapshot => {\n      snapshot.docs.forEach(doc => {\n        this.items.push(doc.data()) \n      })\n      })\n    },\n  },\n  created() {\n      this.fetchItems()    \n  }\n}\n</script>\n\n<style scoped>\nh2{\n  text-align: center;\n}\n#items{\n    float: left;\n    width: 71%;\n    padding: 5px;\n    box-sizing: border-box;\n}\nul{\n    display: flex;\n    flex-wrap: wrap;\n    list-style-type: none;\n    line-height: 5px;\n}\nli{\n    flex-grow: 1;\n    flex-basis: 300px;\n    text-align: center;\n    padding: 5px;\n    border: 1px solid #222;\n    margin: 10px;\n}\nimg{\n  width:100px;\n  height: 100px;\n}\np{\n    font-size: 25px;\n}\n</style>"],"sourceRoot":"src/components"}]}